# TCP 혼잡 제어

- [TCP 혼잡 제어](#tcp-혼잡-제어)
  - [혼잡 회피 기법](#혼잡-회피-기법)
    - [AIMD (Additive Increase / Multicative Decrease)](#aimd-additive-increase--multicative-decrease)
    - [Slow Start](#slow-start)
  - [혼잡 제어 정책](#혼잡-제어-정책)
  - [참고 문헌](#참고-문헌)

네트워크 혼잡 원인은

    오류 제어 기법인 송신측의 재전송이다.

종단 간의 혼잡 제어란

    네트워크의 혼잡 상태를 파악하고 그 상태를 해결하기 위해 송신측의 윈도우 크기를 조절하여 데이터 전송을 제어하는 것이다.

> 네트워크 지원 혼잡제어는 비신뢰적인 IP가 종단 시스템에 어떠한 피드백도 주지 않는다.

송신측의 윈도우는 이전 주차에서 기술한대로

    수신측이 보내준 윈도우 크기인 RWND와 

    네트워크 상황을 고려해서 정환 윈도우 크기인 CWND에서 더 작은 값을 사용한다.

의문점을 도출할 수 있다.

<dl><dt>
1. 송신측은 자신과 수신측 사이 경로의 혼잡을 어떻게 감지하는가?
</dt></dl>

이전 주차에서 기술한대로

    혼잡이 발생하면 경로에 있는 하나 이상의 라우터 버퍼들이 오버플로 되고, 그 결과 패킷이 버려진다.

    송신측은 타임아웃이라는 손실 이벤트 또는 3개의 중복된 ACK으로 감지한다.

<dl><dt>
2. 혼잡을 감지함에 따라 송신율을 변화시키기 위해 어떤 알고리즘을 사용하는가?
</dt></dl>

> 다음 목차에 기술된다.

## 혼잡 회피 기법

### AIMD (Additive Increase / Multicative Decrease)

<div align="center"><img width="60%" src="assets/aimd-bandwidth.png"/></div>

    네트워크에 혼잡이 없어 전송 속도를 더 빠르게 하고 싶다면 윈도우를 1씩 선형적으로 증가시키고,

    혼잡 상태를 감지하면 윈도우를 반으로 줄인다.

AIMD는 공평하다.

    네트워크를 점유하는 호스트 A보다 뒤늦게 합류한 호스트 B는 윈도우가 작아 불리하다.

    네트워크가 혼잡해지면 호스트 A는 윈도우를 줄일 것이며

    남은 대역폭을 호스트 B가 활영하여 윈도우를 키울 수 있다.

문제점은

    대역폭이 많이 남아도 윈도우를 너무 조금씩 늘린다는 것이다.

    즉, 모든 대역을 제대로 된 속도로 통신하기까지 오래걸린다.

### Slow Start

<div align="center"><img width="60%" src="assets/slow-start-bandwidth.png"/></div>

    윈도우를 증가시킬 때 지수적으로 증가시키다가 

    네트워크가 혼잡해지면 윈도우를 1로 줄여버린다.

시간이 갈수록 윈도우 크기는 빠르게 증가된다.

AIMD와 Slow Start

## 혼잡 제어 정책

    ...

<hr/>

## 참고 문헌

[사이 좋게 네트워크를 나눠 쓰는 방법, TCP의 혼잡 제어](https://evan-moon.github.io/2019/11/26/tcp-congestion-control/) ━ *Evans Library*