# 데이터베이스 필요성과 인덱스

- [데이터베이스 필요성과 인덱스](#데이터베이스-필요성과-인덱스)
  - [데이터베이스의 필요성](#데이터베이스의-필요성)
  - [데이터베이스 인덱스에 적합한 자료구조](#데이터베이스-인덱스에-적합한-자료구조)
    - [`time O(n)` 자료구조 부적합](#time-on-자료구조-부적합)
    - [`time O(1)` 자료구조 부적합](#time-o1-자료구조-부적합)
    - [`time O(log 2(n))` 자료구조 부적합](#time-olog-2n-자료구조-부적합)
    - [`time O(log 10(n))` 자료구조](#time-olog-10n-자료구조)
  - [참고 문헌](#참고-문헌)

## 데이터베이스의 필요성

교재에 다음과 같은 질문이 있었다.

<dl><dt>
Excel로는 왜 충분하지 않지?
</dt></dl>

이 질문을 보고 *생활코딩*에서 스크랩한 토론글이 떠올라서 정리해본다.

토론글의 필자는 엑셀을 10년 넘게 쓴 사람으로 엑셀을 다음과 같은 장/단점을 달고 사용하다가 

    장점:  직관적인 인터페이스
    단점:  큰 용량에 대해 느린 데이터 수정 연산

최근 데이터베이스를 공부하게 됬는데 데이터베이스 중요성에 대해 자세한 설명을 찾지 못해서 올린 글이었다.

따라서, 답변을 단 사람들의 글을 정리해보게 되었다.

    A1. 배포의 용이성
      
      엑셀: 수정시에 수정본을 여러명에게 배포해야한다.
            원본, 사본 구분의 문제가 생긴다.

      DB:   수정시에 누구나 최신버전을 가지고 있을 수 있다.

    A2. 중앙집중 데이터 처리

      엑셀: 파일 단위로 데이터를 처리하기에 누군가 파일을 열어서 작업하면
            다른 사람은 읽기전용으로 밖에 접근을 할 수 없다.

      DB:   서버 개념으로 여러명이 동시에 서버에 붙어서 데이터 작업 처리가 가능하다.

<hr/>



## 데이터베이스 인덱스에 적합한 자료구조

인덱스는

    데이터 저장/수정/삭제에 대한 성능을 희생시켜 탐색에 대한 성능을 대폭 상승하는 방식이다.

> 🤔 모두 `O(log 10(n))`이면 희생된게 맞는가?

### `time O(n)` 자료구조 부적합

배열 인덱스의 등장 배경

    데이터가 메모리 상 차례대로 저장되며,

    정렬된 데이터로 여러 데이터 탐색도 가능하다.

단, 목차대로 저장/삭제에 성능 희생이 많다.

### `time O(1)` 자료구조 부적합

해시 인덱스의 등장 배경

    a. 평균적으로 가장 빠른 탐색

    b. 키 값의 데이터 항목을 범용적으로 사용
        
        cf. 숫자, 문자열, 날짜/시간 중 긴 것에 맞추지 않고,

            해시 함수에 대입하여 고정된 키 값을 유지할 수 있다.

단, 탐색이 하나의 데이터라는 점이다.

    데이터베이스에서는 부등호를 사용할 수 있기 때문에 여러 데이터를 탐색한다.

    해시 테이블은 모든 키 값이 정렬되어 있지 않으므로 
    특정 기준보다 크거나 작은 값을 찾기 O(1)을 보장할 수 없다.

### `time O(log 2(n))` 자료구조 부적합

`RedBlack-tree`는

> 🤔 특징 한줄 설명
    
부적합의 이유는 완전 이진 트리의 특성이다.
    
    노드마다 무조건 하나의 데이터가 들어간다.
    
노드를 탐색할 때마다 참조 포인터를 활용해 메모리에 접근하는데, 데이터 당 매번 참조 포인터로 접근한다.

### `time O(log 10(n))` 자료구조

`B-tree`는

a. 정렬된 데이터로 부등호 연산에 문제가 없다.

b. 참조 포인터가 적어 방대한 데이터 양에도 빠른 메모리 접근이 가능하다.

    노드 하나에 고정된 배열이 있어 여러 데이터가 저장될 수 있다.

    노드를 참조 포인터로 탐색한 이후에 

    노드 배열은 실제 메모리의 순서를 반영함으로 참조 포인터 접근의 수를 줄인다.

c. 저장/수정/삭제에 배열보다 적은 시간 복잡도를 가진다.

가장 범용적으로 사용되는 `B+tree`는

    장점:   인덱스 자체의 계층 구조를 작게 할 수 있다.

    단점:  

## 참고 문헌

[데이터베이스의 필요성 토론글](https://www.facebook.com/groups/codingeverybody/posts/6454403514600130/) ━ *생활코딩*

[데이터베이스 인덱스에 적합한 자료구조](https://helloinyong.tistory.com/296) ━ *생활코딩*