# 컴퓨터 내부의 언어체계
## 목차
- 언어
- 문맥에 따라 달라지는 표현법
- 2진수 산술연산
- 2진수 실수
- `MSB`를 식별자로 메모리 주소값을 찾는 예제

### 언어
언어는 편의를 제공하기 위해 사용한다.

언어가 제대로 작동하려면 `기호의 집합(Encoding)`과 `같은 문맥(Context)`이 필요하다.
> 예로, camisole이라는 기호의 집합이 미국과 프랑스권에서 다른 문맥으로 사용된다면, 제대로 언어가 작동하지 않는다.

하지만, 우리는 언제나 같은 문맥을 명확히 식별할 수 있는 것은 아니며 컴퓨터 상에서도 다양한 정의로 사용된다.

### 문맥에 따라 달라지는 표현법

우리가 통상적으로 4비트에서 0부터 15까지 16가지 수를 표현하지만, 이 표현은 다양한 문맥에서 새로 정의할 수 있다.

|2진수|부호와의 크기|1의 보수|2의 보수|
|:--- |:---: | :---: |:---:|
|1111|-7|-0|-1|


### 2진수 산술연산
2진수 산술연산에서 각 비트를 MSB ← LSB 방향으로 결과가 1보다 크면 1을 다음 자리로 옮긴다. 

**이때, 덧셈의 결과가 사용하는 비트 갯수의 범위를 벗어나면 어떻게 될까?**

overflow가 발생한다. overflow는 MSB에서 올림이 발생했다는 뜻이다.
> 예로, 4비트 덧셈에서 1001 + 1000 = 10001을 기대하겠지만 0001이 된다.

이럴 경우를 대비해 컴퓨터에는 `조건 코드 레지스터`에 overflow bit 정보를 담아둔다.

### 2진수 실수

컴퓨터에서 실수는 아주 커다란 숫자나 아주 작은 숫자를 효율적인 자원의 상태에서 연산하기 위해서 지원하기 시작했다.

이때, 컴퓨터는 유한한 저장공간이기 때문에 `무한 2진 실수`를 ___로 저장할 수 없다.
> $\pi$

이러한 경우 컴퓨터는 실수를 높은 정밀도의 근사치로 계산해서 저장한다.

IEEE 754 부동소수점 수 표준이 이를 정의한다.

### $\pi$ 를  IEEE 754 표준 `binary32(float)`로 표현

표현에 필요한 Parameter는 다음과 같다.
|   Parameter   |설명| binary32 |
|:-------------:|:---:|:--------:|
| k             |저장 비트 수|32|
| p             |유효 자릿 수|24|
| emax          |최대 지수|127|
| bias, E−e     ||127|
| sign bit      |부호 표시|1|
| w             |지수부 비트 수| 8|
| t             |가수부 비트 수|23|

IEEE 754 표현은 다음과 같다.

| S 부호 | E 지수부 | T 가수부       |
|--------|----------|----------------|
| 1 bit  | w bits   | t = p - 1 bits |

binary32에 맞게 자릿수를 정해보자. $\pi$는 양수이므로 부호는 0이다.

| S 부호 | E 지수부(w bits) | T 가수부(t bits)|
|-|-|-|
|0|00000000|00000000000000000000000|

$\pi$의 이진 표현은 다음과 같다.

&nbsp;&nbsp;&nbsp;&nbsp;$\pi$ = 11.001001000011111101101010100010001000010110100011000010001101...
2

정규화하면 다음과 같다.
&nbsp;&nbsp;&nbsp;&nbsp;1.1001001000011111101101010100010001000010110100011000010001101...
2 × $2^1$

bias = E - e 공식에 지수 1을 넣어보면, E = 127 = $1111111_2$

이제 지수부를 채워보자.

| S 부호 | E 지수부(w bits) | T 가수부(t bits)|
|-|-|-|
|0|1111111|10010010000111111011010|

**여담으로 CPU에서 실수 연산을 할 때는 ALU(Arithmetic logic unit)의 일부에 있는 실수 처리부인 FPU(Floating Poing Unit)에서 처리한다.**
- 정수 연산을 하드웨어로 하다보면 효율이 좋지 않고, 소프트웨어적으로도 충분히 커버할 수 있기 때문이다.

- 또한, 실수 연산의 정밀도를 계산하기 위해서 하드웨어가 필요하기 때문이다.
<hr/>

**참고문헌**

[소수점수](https://www.youtube.com/watch?v=vOO-oLS0H68&ab_channel=%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%9D%BC%EB%9D%BC) -- 「개발자 라라」 유튜브

[Floating Point 부동소수점](https://johngrib.github.io/wiki/floating-point/) -- John Grib


